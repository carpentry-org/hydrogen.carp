(load "hydrogen.carp")

(def CONTEXT (Hydro.context "Examples"))
(def MSG (Hydro.buf "Arbitrary data to encrypt"))

(defn main []
   (let-do [key (HydroSecretBox.keygen)
            cypher (HydroSecretBox.encrypt &MSG 0 CONTEXT &key)]
      (println* &cypher)
      (println* &(Hydro.unbuf &(HydroSecretBox.decrypt &cypher 0 CONTEXT &key)))))
